{% extends 'base.html' %}
{% block title %}Lista de Libros{% endblock %}

{% block content %}
<h2 style="text-align:center; font-size:1.8rem; color:#393859; margin-bottom:25px;">
  <i class="fa-solid fa-book"></i> Lista de Libros
</h2>

<div style="text-align:right; margin-bottom:20px;">
  <a href="{% url 'libro-create' %}">
    <button style="display:inline-flex; align-items:center; gap:6px;">
      <i class="fa-solid fa-plus"></i> Agregar Libro
    </button>
  </a>
</div>

{% if object_list %}
  <div style="
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    gap: 25px;
  ">
    {% for libro in object_list %}
      <div style="
        background: #fff;
        border-radius: 12px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.08);
        overflow: hidden;
        text-align: center;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      " 
      onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 8px 16px rgba(0,0,0,0.12)';"
      onmouseout="this.style.transform='none'; this.style.boxShadow='0 4px 10px rgba(0,0,0,0.08)';">

        {% if libro.portada %}
          <img src="{{ libro.portada.url }}" alt="portada de {{ libro.titulo }}" 
               style="width:100%; height:250px; object-fit:cover;">
        {% else %}
          <div style="
            height:250px; 
            background:#f0f0f5; 
            display:flex; 
            align-items:center; 
            justify-content:center;
            color:#888;
            font-size:2rem;
          ">
            <i class="fa-solid fa-image"></i>
          </div>
        {% endif %}

        <div style="padding:15px;">
          <h3 style="margin:8px 0; font-size:1.1rem; color:#222;">{{ libro.titulo }}</h3>
          <p style="margin:5px 0; color:#555;"><b>Autor:</b> {{ libro.autor }}</p>
          <p style="margin:5px 0; color:#777;"><b>Estado:</b> {{ libro.get_estado_display }}</p>

          <div style="margin-top:10px; display:flex; justify-content:center; gap:8px;">
            <a href="{% url 'libro-detail' libro.pk %}">
              <button title="Ver detalles" style="background:#85C8F2; color:#000;">
                <i class="fa-solid fa-eye"></i>
              </button>
            </a>
            <a href="{% url 'libro-update' libro.pk %}">
              <button title="Editar" style="background:#F2C879; color:#000;">
                <i class="fa-solid fa-pen"></i>
              </button>
            </a>
            <a href="{% url 'libro-delete' libro.pk %}">
              <button title="Eliminar" style="background:#F2766D; color:#fff;">
                <i class="fa-solid fa-trash"></i>
              </button>
            </a>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
{% else %}
  <p style="text-align:center; color:#666; margin-top:30px;">No hay libros registrados.</p>
{% endif %}
{% endblock %}
